(this.webpackJsonpstars_stripes=this.webpackJsonpstars_stripes||[]).push([[0],{10:function(e,a,t){e.exports=t(16)},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a),t.d(a,"calculateHorizontalScore",(function(){return j})),t.d(a,"calculateVerticalScore",(function(){return C})),t.d(a,"transposeDiagonalFromLeft",(function(){return D})),t.d(a,"transposeDiagonalFromRight",(function(){return R})),t.d(a,"calculateDiagonalFromLeftScore",(function(){return M})),t.d(a,"calculateDiagonalFromRightScore",(function(){return x})),t.d(a,"calculateScore",(function(){return _})),t.d(a,"isEndgame",(function(){return X})),t.d(a,"completeEndgame",(function(){return I})),t.d(a,"updateBlackout",(function(){return P}));var r=t(8),l=t(2),s=t(3),n=t(5),c=t(4),i=t(1),u=t(0),o=t.n(u),m=t(6),d=t.n(m),v=(t(15),document.getElementById("modal")),h=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).el=document.createElement("div"),r}return Object(s.a)(t,[{key:"componentDidMount",value:function(){v.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){v.removeChild(this.el)}},{key:"render",value:function(){return Object(m.createPortal)(this.props.children,this.el)}}]),t}(o.a.Component),E=t(7),N=function e(a,t){Object(i.a)(this,e),this.color=a,this.shape=t},p=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return 1!==this.props.currentRule?null:o.a.createElement("div",{className:"tutorialStep"},o.a.createElement("div",{className:"tutorial-text"},"Players take turns dragging a symbol (X or O) of their color onto the board."),o.a.createElement("div",{className:"tutorial-board"},o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square tutorial1animation4"},"O"),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square tutorial1animation3"},"X"),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square tutorial1animation5"},"O"),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial1animationX"},"X"),o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial1animationO"},"O"),o.a.createElement("div",{className:"square tray"}))))}}]),t}(o.a.Component),q=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return 2!==this.props.currentRule?null:o.a.createElement("div",{className:"tutorialStep"},o.a.createElement("div",{className:"tutorial-text"},"Matching symbols of opposite color cannot be placed adjacent or diagonal to each other."),o.a.createElement("div",{className:"tutorial-board"},o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square red"},"O")),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square blue"},"X"),o.a.createElement("div",{className:"square blue"},"X")),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial2animationX"},"X"),o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial2_O"},"O"),o.a.createElement("div",{className:"square tray"}))))}}]),t}(o.a.Component),b=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return 3!==this.props.currentRule?null:o.a.createElement("div",{className:"tutorialStep"},o.a.createElement("div",{className:"tutorial-text"},"When no symbol can be placed in a square, the square is blacked out.                "),o.a.createElement("div",{className:"tutorial-board"},o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square red"},"X"),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square blue"},"O"),o.a.createElement("div",{className:"square black"}),o.a.createElement("div",{className:"square red"},"O"),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square blue"},"X"),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial2_O"},"X"),o.a.createElement("div",{className:"square tray"}),o.a.createElement("div",{className:"square tray tutorial2_O"},"O"),o.a.createElement("div",{className:"square tray"}))))}}]),t}(o.a.Component),f=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return 4!==this.props.currentRule?null:o.a.createElement("div",{className:"tutorialStep"},o.a.createElement("div",{className:"tutorial-text"},"Score a point by getting a 3-in-a-row of your color (symbol doesn't matter).",o.a.createElement("div",{className:"tutorial-board"},o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square red step4_score3"},"O")),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square red step4_score3"},"X"),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square red step4_score3"},"O"),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square blue step4_score1"},"O"),o.a.createElement("div",{className:"square blue step4_score12"},"X"),o.a.createElement("div",{className:"square blue step4_score12"},"X"),o.a.createElement("div",{className:"square blue step4_score2"},"X"),o.a.createElement("div",{className:"square"})),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"}),o.a.createElement("div",{className:"square"})))))}}]),t}(o.a.Component);function y(e){return 1!==e.currentRule?o.a.createElement("button",{onClick:e.handlePrevious},"Previous"):o.a.createElement("div",null)}function g(e){return e.currentRule<e.totalSteps?o.a.createElement("button",{onClick:e.handleNext},"Next"):o.a.createElement("div",null)}function O(e){return e.showRules?o.a.createElement(h,null,o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"tutorial"},o.a.createElement(p,{currentRule:e.currentRule}),o.a.createElement(q,{currentRule:e.currentRule}),o.a.createElement(b,{currentRule:e.currentRule}),o.a.createElement(f,{currentRule:e.currentRule}),o.a.createElement("div",{className:"navigation"},o.a.createElement(y,{currentRule:e.currentRule,handlePrevious:e.handlePrevious}),o.a.createElement("div",null,e.currentRule,"/",4),o.a.createElement(g,{currentRule:e.currentRule,totalSteps:4,handleNext:e.handleNext}),o.a.createElement("button",{onClick:e.handleHide},"Exit"))))):null}function w(e){var a="square",t=null;return e.color?(a+=" "+e.color,"star"===e.shape?t="X":"circle"===e.shape&&(t="O")):e.hints&&e.hintShape&&e.hintColor&&e.legalMove[e.hintColor][e.hintShape]&&(a+=" "+e.hintColor+" hint"),o.a.createElement("div",{className:a,onDragOver:e.onDragOver,onDrop:e.onDrop},t)}var S=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"renderSquare",value:function(e,a){var t=this.props.squares[e][a];return o.a.createElement(E.DropTarget,{targetKey:"token",dropData:{row:e,column:a},key:e+","+a},o.a.createElement(w,{shape:t?t.shape:null,color:t?t.color:null,key:e+","+a,row:e,column:a,legalMove:this.props.legalMoves[e][a],hintShape:this.props.hintShape,hintColor:this.props.hintColor,hints:this.props.hints}))}},{key:"createSquares",value:function(){for(var e=[],a=0;a<this.props.gridSize;a++){for(var t=[],r=0;r<this.props.gridSize;r++)t.push(this.renderSquare(a,r));e.push(o.a.createElement("div",{className:"board-row",key:a},t))}return e}},{key:"render",value:function(){return o.a.createElement("div",null,this.createSquares())}}]),t}(o.a.Component),k=function(e){Object(n.a)(t,e);var a=Object(c.a)(t);function t(e){var r;Object(i.a)(this,t),(r=a.call(this,e)).handleDragOver=function(e,a,t){e.preventDefault()},r.handleMouseDown=function(e,a){var t=r.state.blueIsNext?"blue":"red";r.setState({hintColor:t,hintShape:a})},r.handleMouseUp=function(e){r.setState({hintColor:null,hintShape:null})},r.handleHintsChange=function(e){var a=e.target.checked;r.setState({hints:a})},r.handleUndo=function(e){var a=r.state.history,t=a.squares.length>1?a.squares.slice(0,-1):a.squares.slice(),l=a.legalMoves.length>1?a.legalMoves.slice(0,-1):a.legalMoves.slice();a.squares=t,a.legalMoves=l;var s=!(a.squares.length>1)||!r.state.blueIsNext;document.getElementsByTagName("body")[0].style.setProperty("--player_color",s?"var(--blue_color)":"var(--red_color)"),r.setState({history:a,blueIsNext:s})},r.handleNewGame=function(e){var a=r.state.history,t=a.squares.slice(0,1),l=a.legalMoves.slice(0,1);a.squares=t,a.legalMoves=l,document.getElementsByTagName("body")[0].style.setProperty("--player_color","var(--blue_color)"),r.setState({history:a,blueIsNext:!0,hintColor:null,hintShape:null})};for(var s=[],n=0;n<5;n++){for(var c=[],u=0;u<5;u++)c.push({red:{star:!0,circle:!0},blue:{star:!0,circle:!0}});s.push(c)}return r.state={gridSize:5,history:{squares:[Array.from({length:5},(function(e){return Array(5).fill(null)}))],legalMoves:[s]},blueIsNext:!0,hints:!0,hintColor:null,hintShape:null,showRules:!1,currentRule:1},r.handleShow=r.handleShow.bind(Object(l.a)(r)),r.handleHide=r.handleHide.bind(Object(l.a)(r)),r.handlePrevious=r.handlePrevious.bind(Object(l.a)(r)),r.handleNext=r.handleNext.bind(Object(l.a)(r)),r.handleHintsChange=r.handleHintsChange.bind(Object(l.a)(r)),r.handleNewGame=r.handleNewGame.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"handleShow",value:function(){this.setState({showRules:!0})}},{key:"handleHide",value:function(){this.setState({showRules:!1,currentStep:1})}},{key:"handlePrevious",value:function(){var e=this.state.currentRule;e-=1,this.setState({currentRule:e})}},{key:"handleNext",value:function(){var e=this.state.currentRule;e+=1,this.setState({currentRule:e})}},{key:"handleDrop",value:function(e){var a=e.dropData.row,t=e.dropData.column,r=e.dragData.shape,l=this.state.history,s=l.squares.slice(),n=s[s.length-1].map((function(e){return e.slice()})),c=this.state.blueIsNext?"blue":"red",i="star"===r?"circle":"star",u=this.state.blueIsNext?"red":"blue",o=l.legalMoves.slice(),m=JSON.parse(JSON.stringify(o[o.length-1]));if(m[a][t][c][r]){for(var d=this.state.gridSize,v=a-1;v<=a+1;v++)for(var h=t-1;h<=t+1;h++)v===a&&h===t&&(m[v][h][u][r]=!1,m[v][h][u][i]=!1,m[v][h][c][i]=!1,m[v][h][c][r]=!1),v>=0&&h>=0&&v<d&&h<d&&(m[v][h][u][r]=!1);n[a][t]=new N(c,r),document.getElementsByTagName("body")[0].style.setProperty("--player_color",this.state.blueIsNext?"var(--red_color)":"var(--blue_color)"),l.squares=s.concat([n]),l.legalMoves=o.concat([m]),this.setState({history:l,blueIsNext:!this.state.blueIsNext,hintColor:null,hintShape:null})}}},{key:"render",value:function(){var e=this,a=this.state.history,t=a.squares.slice(),r=t[t.length-1].slice(),l=a.legalMoves.slice(),s=l[l.length-1].slice();r=P(r,s),X(s)&&(r=I(r,s));var n=_(r),c=n.red,i=n.blue;return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"title"},o.a.createElement("h1",null,"Stars and Circles"),o.a.createElement("h2",null,"Game by Colin Thom"),o.a.createElement("h2",null,"Built by Sarah Edwards")),o.a.createElement("div",{className:"game-board"},o.a.createElement(S,{squares:r,gridSize:this.state.gridSize,legalMoves:s,hintShape:this.state.hintShape,hintColor:this.state.hintColor,hints:this.state.hints})),o.a.createElement("div",{className:"token-area"},o.a.createElement(E.DragDropContainer,{targetKey:"token",dragData:{shape:"star"},onDrop:function(a){return e.handleDrop(a)},onDragStart:function(a){return e.handleMouseDown(a,"star")}},o.a.createElement("div",{className:"token",onMouseDown:function(a){return e.handleMouseDown(a,"star")},onMouseUp:function(a){return e.handleMouseUp(a)}},"X")),o.a.createElement(E.DragDropContainer,{targetKey:"token",dragData:{shape:"circle"},onDrop:function(a){return e.handleDrop(a)},onDragStart:function(a){return e.handleMouseDown(a,"circle")}},o.a.createElement("div",{className:"token",onMouseDown:function(a){return e.handleMouseDown(a,"circle")},onMouseUp:function(a){return e.handleMouseUp(a)}},"O"))),o.a.createElement("div",{className:"score"},"Score:",o.a.createElement("div",{className:"red-score"},c),o.a.createElement("div",{className:"blue-score"},i)),o.a.createElement("div",{className:"controls"},o.a.createElement("label",{className:"hints"},"Hints",o.a.createElement("input",{name:"hints",type:"checkbox",checked:this.state.hints,onChange:this.handleHintsChange})),o.a.createElement("button",{onClick:this.handleUndo},"Undo"),o.a.createElement("button",{onClick:this.handleNewGame},"New"),o.a.createElement("button",{onClick:this.handleShow},"Rules")),o.a.createElement("div",{className:"tutorial"},o.a.createElement(O,{showRules:this.state.showRules,currentRule:this.state.currentRule,handleHide:this.handleHide,handlePrevious:this.handlePrevious,handleNext:this.handleNext})))}}]),t}(o.a.Component);function j(e){var a={red:0,blue:0};for(var t in e)for(var r=0;r<e[0].length-2;r++){var l=e[t][r],s=e[t][r+1],n=e[t][r+2];l&&s&&n&&l.color===s.color&&l.color===n.color&&(a[l.color]+=1)}return a}function C(e){return j(e[0].map((function(a,t){return e.map((function(e){return e[t]}))})))}function D(e){var a=[];for(var t in e){var r=Array(e[t].length-1-t).fill(null),l=Array(parseInt(t)).fill(null),s=r.concat(e[t].concat(l));a.push(s)}return a[0].map((function(e,t){return a.map((function(e){return e[t]}))}))}function R(e){var a=[];for(var t in e){var r=Array(parseInt(t)).fill(null),l=Array(e[t].length-1-t).fill(null),s=r.concat(e[t].concat(l));a.push(s)}return a[0].map((function(e,t){return a.map((function(e){return e[t]}))}))}function M(e){return j(D(e))}function x(e){return j(R(e))}function _(e){var a=j(e),t=C(e),r=M(e),l=x(e),s={red:0,blue:0};for(var n in s)s[n]=a[n]+t[n]+r[n]+l[n];return s}function X(e){var a,t={red:!1,blue:!1},l=Object(r.a)(e);try{for(l.s();!(a=l.n()).done;){var s,n=a.value,c=Object(r.a)(n);try{for(c.s();!(s=c.n()).done;){var i=s.value;for(var u in t)t[u]||!i[u].star&&!i[u].circle||(t[u]=!0)}}catch(o){c.e(o)}finally{c.f()}}}catch(o){l.e(o)}finally{l.f()}return!(t.red&&t.blue)}function I(e,a){alert("No choices left for remaining squares! Empty squares will be filled automatically.");var t=e.slice();for(var r in t)for(var l in t[r])if(!t[r][l]){var s=a[r][l];(s.red.star||s.red.circle)&&(t[r][l]=new N("red","null")),(s.blue.star||s.blue.circle)&&(t[r][l]=new N("blue","null"))}return t}function P(e,a){for(var t in e)for(var r in e[t]){var l=e[t][r],s=a[t][r];if(!l&&!s.red.circle&&!s.red.star&&!s.blue.circle&&!s.blue.star){var n=new N("black","null");e[t][r]=n}}return e}d.a.render(o.a.createElement(k,null),document.getElementById("root")||document.createElement("div"))}},[[10,1,2]]]);
//# sourceMappingURL=main.9792c016.chunk.js.map