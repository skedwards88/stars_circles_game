(this.webpackJsonpstars_stripes=this.webpackJsonpstars_stripes||[]).push([[0],{10:function(e,a,t){e.exports=t(17)},15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a),t.d(a,"calculateHorizontalScore",(function(){return O})),t.d(a,"calculateVerticalScore",(function(){return k})),t.d(a,"transposeGrid",(function(){return D})),t.d(a,"transposeDiagonalFromLeft",(function(){return C})),t.d(a,"transposeDiagonalFromRight",(function(){return x})),t.d(a,"calculateDiagonalFromLeftScore",(function(){return _})),t.d(a,"calculateDiagonalFromRightScore",(function(){return M})),t.d(a,"calculateScore",(function(){return j})),t.d(a,"isEndgame",(function(){return R})),t.d(a,"completeEndgame",(function(){return X})),t.d(a,"updateBlackout",(function(){return P}));var r=t(8),s=t(1),l=t(3),n=t(4),c=t(5),i=t(2),u=t(0),m=t.n(u),o=t(6),d=t.n(o),v=(t(15),t(16),document.getElementById("modal")),E=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).element=document.createElement("div"),r}return Object(l.a)(t,[{key:"componentDidMount",value:function(){v.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){v.removeChild(this.element)}},{key:"render",value:function(){return Object(o.createPortal)(this.props.children,this.element)}}]),t}(m.a.Component),h=[m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-text"},m.a.createElement("div",null,"A spatial strategy game"),m.a.createElement("br",null),m.a.createElement("div",null,"2 Players"),m.a.createElement("div",null,"5 Minutes"),m.a.createElement("br",null),m.a.createElement("div",null,"Game by Colin Thom"),m.a.createElement("div",null,"Built by Sarah Edwards"))),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-board"},m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square step1_square2"},"O"),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square step1_square1"},"X"),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square step1_square3"},"O"),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square tray"}),m.a.createElement("div",{className:"square tray step1_X"},"X"),m.a.createElement("div",{className:"square tray"}),m.a.createElement("div",{className:"square tray step1_O"},"O"),m.a.createElement("div",{className:"square tray"}))),m.a.createElement("div",{className:"tutorial-text"},"Players take turns dragging a symbol (X or O) of their color onto the board.")),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-board"},m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square red"},"O")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square blue"},"X")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square tray"}),m.a.createElement("div",{className:"square tray step2_X"},"X"),m.a.createElement("div",{className:"square tray"}),m.a.createElement("div",{className:"square tray red_token"},"O"),m.a.createElement("div",{className:"square tray"}))),m.a.createElement("div",{className:"tutorial-text"},m.a.createElement("div",null,"Matching symbols of opposite color cannot be placed adjacent or diagonal to each other."),m.a.createElement("div",null,"(Turn hints on/off to show/hide legal moves.)"))),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-board"},m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square red"},"X"),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square blue"},"O"),m.a.createElement("div",{className:"square black"}),m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}))),m.a.createElement("div",{className:"tutorial-text"},"When no symbol can be placed in a square, the square is blacked out.")),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-board"},m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square red step4_score3"},"O")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square red step4_score3"},"X"),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square red step4_score3"},"O"),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square blue step4_score1"},"O"),m.a.createElement("div",{className:"square blue step4_score12"},"X"),m.a.createElement("div",{className:"square blue step4_score12"},"X"),m.a.createElement("div",{className:"square blue step4_score2"},"X"),m.a.createElement("div",{className:"square"})),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}),m.a.createElement("div",{className:"square"}))),m.a.createElement("div",{className:"tutorial-text"},"Score a point by getting a 3-in-a-row of your color (symbol doesn't matter).")),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-board"},m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square red"},"X"),m.a.createElement("div",{className:"square step_ends_auto"}),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square step_ends_auto"}),m.a.createElement("div",{className:"square red"},"X")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square blue"},"O"),m.a.createElement("div",{className:"square blue"},"O"),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square step_ends_auto"}),m.a.createElement("div",{className:"square blue"},"O")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square red"},"X"),m.a.createElement("div",{className:"square black"}),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square black"}),m.a.createElement("div",{className:"square red"},"X")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square red"},"O")),m.a.createElement("div",{className:"board-row"},m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square blue"},"X"),m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square red"},"O"),m.a.createElement("div",{className:"square blue"},"X"))),m.a.createElement("div",{className:"tutorial-text"},m.a.createElement("div",null,"The game ends when one player cannot make any more moves."),m.a.createElement("div",null,"Any remaining moves for the other player will complete automatically."))),m.a.createElement("div",{className:"tutorialStep"},m.a.createElement("div",{className:"tutorial-text"},m.a.createElement("div",null,"The player with the most points wins!")))],N=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.ruleNumber;return this.props.currentRule!==e?null:h[e-1]}}]),t}(m.a.Component);function q(e){return 1!==e.currentRule?m.a.createElement("button",{onClick:e.handlePrevious},"Previous"):m.a.createElement("button",{disabled:!0},"Previous")}function b(e){return e.currentRule<h.length?m.a.createElement("button",{onClick:e.handleNext},"Next"):m.a.createElement("button",{disabled:!0},"Next")}var p=function(e){var a=h.length,t=Array.from(Array(a)).map((function(a,t){return m.a.createElement(N,{ruleNumber:t+1,currentRule:e.currentRule,key:t+1})}));return e.showRules?m.a.createElement(E,null,m.a.createElement("div",{className:"modal"},m.a.createElement("div",{className:"tutorial"},m.a.createElement("div",{className:"tutorial-navigation"},m.a.createElement(q,{currentRule:e.currentRule,handlePrevious:e.handlePrevious}),m.a.createElement("div",null,e.currentRule,"/",a),m.a.createElement(b,{currentRule:e.currentRule,totalSteps:a,handleNext:e.handleNext}),m.a.createElement("button",{onClick:e.handleHide},"Exit")),t))):null},f=t(7),y=function e(a,t){Object(i.a)(this,e),this.color=a,this.shape=t};function g(e){var a="square",t=null;return e.color?(a+=" "+e.color,"star"===e.shape?t="X":"circle"===e.shape&&(t="O")):e.hints&&e.hintShape&&e.hintColor&&e.legalMove[e.hintColor][e.hintShape]&&(a+=" "+e.hintColor+" hint"),m.a.createElement("div",{className:a,onDragOver:e.onDragOver,onDrop:e.onDrop},t)}var w=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"renderSquare",value:function(e,a){var t=this.props.squares[e][a];return m.a.createElement(f.DropTarget,{targetKey:"token",dropData:{row:e,column:a},key:e+","+a},m.a.createElement(g,{shape:t?t.shape:null,color:t?t.color:null,key:e+","+a,row:e,column:a,legalMove:this.props.legalMoves[e][a],hintShape:this.props.hintShape,hintColor:this.props.hintColor,hints:this.props.hints}))}},{key:"createSquares",value:function(){for(var e=[],a=0;a<this.props.gridSize;a++){for(var t=[],r=0;r<this.props.gridSize;r++)t.push(this.renderSquare(a,r));e.push(m.a.createElement("div",{className:"board-row",key:a},t))}return e}},{key:"render",value:function(){return m.a.createElement("div",null,this.createSquares())}}]),t}(m.a.Component),S=function(e){Object(c.a)(t,e);var a=Object(n.a)(t);function t(e){var r;Object(i.a)(this,t),(r=a.call(this,e)).handleDragOver=function(e,a,t){e.preventDefault()},r.handleMouseDown=function(e,a){var t=r.state.blueIsNext?"blue":"red";r.setState({hintColor:t,hintShape:a})},r.handleMouseUp=function(e){r.setState({hintColor:null,hintShape:null})},r.handleHintsChange=function(e){var a=e.target.checked;r.setState({hints:a})},r.handleUndo=function(e){var a=r.state.history,t=a.squares.length>1?a.squares.slice(0,-1):a.squares.slice(),s=a.legalMoves.length>1?a.legalMoves.slice(0,-1):a.legalMoves.slice();a.squares=t,a.legalMoves=s;var l=!(a.squares.length>1)||!r.state.blueIsNext;document.getElementsByTagName("body")[0].style.setProperty("--player_color",l?"var(--blue_color)":"var(--red_color)"),r.setState({history:a,blueIsNext:l})},r.handleNewGame=function(e){var a=r.state.history,t=a.squares.slice(0,1),s=a.legalMoves.slice(0,1);a.squares=t,a.legalMoves=s,document.getElementsByTagName("body")[0].style.setProperty("--player_color","var(--blue_color)"),r.setState({history:a,blueIsNext:!0,hintColor:null,hintShape:null})};for(var l=[],n=0;n<5;n++){for(var c=[],u=0;u<5;u++)c.push({red:{star:!0,circle:!0},blue:{star:!0,circle:!0}});l.push(c)}return r.state={gridSize:5,history:{squares:[Array.from({length:5},(function(e){return Array(5).fill(null)}))],legalMoves:[l]},blueIsNext:!0,hints:!0,hintColor:null,hintShape:null,showRules:!1,currentRule:1},r.handleShow=r.handleShow.bind(Object(s.a)(r)),r.handleHide=r.handleHide.bind(Object(s.a)(r)),r.handlePrevious=r.handlePrevious.bind(Object(s.a)(r)),r.handleNext=r.handleNext.bind(Object(s.a)(r)),r.handleHintsChange=r.handleHintsChange.bind(Object(s.a)(r)),r.handleNewGame=r.handleNewGame.bind(Object(s.a)(r)),r}return Object(l.a)(t,[{key:"handleShow",value:function(){this.setState({showRules:!0})}},{key:"handleHide",value:function(){this.setState({showRules:!1,currentRule:1})}},{key:"handlePrevious",value:function(){var e=this.state.currentRule;e-=1,this.setState({currentRule:e})}},{key:"handleNext",value:function(){var e=this.state.currentRule;e+=1,this.setState({currentRule:e})}},{key:"handleDrop",value:function(e){var a=e.dropData.row,t=e.dropData.column,r=e.dragData.shape,s=this.state.history,l=s.squares.slice(),n=l[l.length-1].map((function(e){return e.slice()})),c=this.state.blueIsNext?"blue":"red",i="star"===r?"circle":"star",u=this.state.blueIsNext?"red":"blue",m=s.legalMoves.slice(),o=JSON.parse(JSON.stringify(m[m.length-1]));if(o[a][t][c][r]){for(var d=this.state.gridSize,v=a-1;v<=a+1;v++)for(var E=t-1;E<=t+1;E++)v===a&&E===t&&(o[v][E][u][r]=!1,o[v][E][u][i]=!1,o[v][E][c][i]=!1,o[v][E][c][r]=!1),v>=0&&E>=0&&v<d&&E<d&&(o[v][E][u][r]=!1);n[a][t]=new y(c,r),document.getElementsByTagName("body")[0].style.setProperty("--player_color",this.state.blueIsNext?"var(--red_color)":"var(--blue_color)"),s.squares=l.concat([n]),s.legalMoves=m.concat([o]),this.setState({history:s,blueIsNext:!this.state.blueIsNext,hintColor:null,hintShape:null})}}},{key:"render",value:function(){var e=this,a=this.state.history,t=a.squares.slice(),r=t[t.length-1].slice(),s=a.legalMoves.slice(),l=s[s.length-1].slice();r=P(r,l),R(l)&&(r=X(r,l));var n=j(r),c=n.red,i=n.blue;return m.a.createElement("div",{className:"game"},m.a.createElement("div",{className:"title"},m.a.createElement("h1",null,"Stars and Circles")),m.a.createElement("div",{className:"game-board"},m.a.createElement(w,{squares:r,gridSize:this.state.gridSize,legalMoves:l,hintShape:this.state.hintShape,hintColor:this.state.hintColor,hints:this.state.hints})),m.a.createElement("div",{className:"token-area"},m.a.createElement(f.DragDropContainer,{targetKey:"token",dragData:{shape:"star"},onDrop:function(a){return e.handleDrop(a)},onDragStart:function(a){return e.handleMouseDown(a,"star")}},m.a.createElement("div",{className:"token",onMouseDown:function(a){return e.handleMouseDown(a,"star")},onMouseUp:function(a){return e.handleMouseUp(a)}},"X")),m.a.createElement(f.DragDropContainer,{targetKey:"token",dragData:{shape:"circle"},onDrop:function(a){return e.handleDrop(a)},onDragStart:function(a){return e.handleMouseDown(a,"circle")}},m.a.createElement("div",{className:"token",onMouseDown:function(a){return e.handleMouseDown(a,"circle")},onMouseUp:function(a){return e.handleMouseUp(a)}},"O"))),m.a.createElement("div",{className:"score"},"Score:",m.a.createElement("div",{className:"red-score"},c),m.a.createElement("div",{className:"blue-score"},i)),m.a.createElement("div",{className:"controls"},m.a.createElement("label",{className:"hints"},"Hints",m.a.createElement("input",{name:"hints",type:"checkbox",checked:this.state.hints,onChange:this.handleHintsChange})),m.a.createElement("button",{onClick:this.handleUndo},"Undo"),m.a.createElement("button",{onClick:this.handleNewGame},"New"),m.a.createElement("button",{onClick:this.handleShow},"Rules")),m.a.createElement("div",{className:"tutorial"},m.a.createElement(p,{showRules:this.state.showRules,currentRule:this.state.currentRule,handleHide:this.handleHide,handlePrevious:this.handlePrevious,handleNext:this.handleNext})))}}]),t}(m.a.Component);function O(e){var a={red:0,blue:0};for(var t in e)for(var r=0;r<e[0].length-2;r++){var s=e[t][r],l=e[t][r+1],n=e[t][r+2];s&&l&&n&&s.color===l.color&&s.color===n.color&&(a[s.color]+=1)}return a}function k(e){return O(D(e))}function D(e){return e[0].map((function(a,t){return e.map((function(e){return e[t]}))}))}function C(e){var a=[];for(var t in e){var r=Array(e[t].length-1-t).fill(null),s=Array(parseInt(t)).fill(null),l=r.concat(e[t].concat(s));a.push(l)}return D(a)}function x(e){var a=[];for(var t in e){var r=Array(parseInt(t)).fill(null),s=Array(e[t].length-1-t).fill(null),l=r.concat(e[t].concat(s));a.push(l)}return D(a)}function _(e){return O(C(e))}function M(e){return O(x(e))}function j(e){var a=O(e),t=k(e),r=_(e),s=M(e),l={red:0,blue:0};for(var n in l)l[n]=a[n]+t[n]+r[n]+s[n];return l}function R(e){var a,t={red:!1,blue:!1},s=Object(r.a)(e);try{for(s.s();!(a=s.n()).done;){var l,n=a.value,c=Object(r.a)(n);try{for(c.s();!(l=c.n()).done;){var i=l.value;for(var u in t)t[u]||!i[u].star&&!i[u].circle||(t[u]=!0)}}catch(m){c.e(m)}finally{c.f()}}}catch(m){s.e(m)}finally{s.f()}return!(t.red&&t.blue)}function X(e,a){alert("No choices left for remaining squares! Empty squares will be filled automatically.");var t=e.slice();for(var r in t)for(var s in t[r])if(!t[r][s]){var l=a[r][s];(l.red.star||l.red.circle)&&(t[r][s]=new y("red","null")),(l.blue.star||l.blue.circle)&&(t[r][s]=new y("blue","null"))}return t}function P(e,a){for(var t in e)for(var r in e[t]){var s=e[t][r],l=a[t][r];if(!s&&!l.red.circle&&!l.red.star&&!l.blue.circle&&!l.blue.star){var n=new y("black","null");e[t][r]=n}}return e}d.a.render(m.a.createElement(S,null),document.getElementById("root")||document.createElement("div"))}},[[10,1,2]]]);
//# sourceMappingURL=main.aab8c588.chunk.js.map